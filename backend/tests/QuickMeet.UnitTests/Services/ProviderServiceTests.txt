/*
using Xunit;
using Moq;
using QuickMeet.Core.Services;
using QuickMeet.Core.Interfaces;
using QuickMeet.Core.Entities;
using Microsoft.Extensions.Logging;

namespace QuickMeet.UnitTests.Services;

/// <summary>
/// Unit Tests para ProviderService
/// Prueba la lógica de negocio sin dependencias externas (BD real, almacenamiento de archivos, etc)
/// Usa mocks puros para aislar el comportamiento del servicio
/// Patrón: Repository Pattern - SOLO se mockea IProviderRepository
/// </summary>
public class ProviderServiceTests
{
    #region Test Data Constants

    private const int ValidProviderId = 1;
    private const int InvalidProviderId = 999;
    private const string ValidEmail = "provider@example.com";
    private const string ValidUsername = "providername";
    private const string ValidFullName = "Provider Test User";
    private const string ValidDescription = "Professional description";
    private const string ValidPhoneNumber = "+34 612 345 678";
    private const int ValidAppointmentDuration = 30;
    private const string ValidPhotoUrl = "https://example.com/photos/provider.jpg";
    private const int MaxPhotoSizeBytes = 5 * 1024 * 1024; // 5MB

    #endregion

    private readonly Mock<IProviderRepository> _mockProviderRepository;
    private readonly Mock<ILogger<ProviderService>> _mockLogger;
    private readonly ProviderService _service;

    public ProviderServiceTests()
    {
        _mockProviderRepository = new Mock<IProviderRepository>();
        _mockLogger = new Mock<ILogger<ProviderService>>();

        _service = new ProviderService(
            _mockProviderRepository.Object,
            _mockLogger.Object
        );
    }

    #region GetProviderByIdAsync - Happy Path

    [Fact]
    public async Task GetProviderByIdAsync_WithValidProviderId_ReturnsProviderProfile()
    {
        // Arrange
        var provider = new Provider
        {
            Id = ValidProviderId,
            Email = ValidEmail,
            Username = ValidUsername,
            FullName = ValidFullName,
            Description = ValidDescription,
            PhoneNumber = ValidPhoneNumber,
            PhotoUrl = ValidPhotoUrl,
            AppointmentDurationMinutes = ValidAppointmentDuration,
            CreatedAt = DateTime.UtcNow,
            UpdatedAt = DateTime.UtcNow
        };

        _mockProviderRepository.Setup(r => r.GetByIdAsync(ValidProviderId))
            .ReturnsAsync(provider);

        // Act
        var result = await _service.GetProviderByIdAsync(ValidProviderId);

        // Assert
        Assert.NotNull(result);
        Assert.Equal(ValidProviderId, result.Id);
        Assert.Equal(ValidEmail, result.Email);
        Assert.Equal(ValidUsername, result.Username);
        Assert.Equal(ValidFullName, result.FullName);
        Assert.Equal(ValidDescription, result.Description);
        Assert.Equal(ValidPhoneNumber, result.PhoneNumber);
        Assert.Equal(ValidPhotoUrl, result.PhotoUrl);
        Assert.Equal(ValidAppointmentDuration, result.AppointmentDurationMinutes);
    }

    [Fact]
    public async Task GetProviderByIdAsync_WithValidProviderId_PreservesTimestamps()
    {
        // Arrange
        var createdAt = new DateTimeOffset(2026, 1, 1, 10, 0, 0, TimeSpan.Zero);
        var updatedAt = new DateTimeOffset(2026, 1, 3, 15, 30, 0, TimeSpan.Zero);

        var provider = new Provider
        {
            Id = ValidProviderId,
            Email = ValidEmail,
            Username = ValidUsername,
            FullName = ValidFullName,
            CreatedAt = createdAt.DateTime,
            UpdatedAt = updatedAt.DateTime
        };

        _mockProviderRepository.Setup(r => r.GetByIdAsync(ValidProviderId))
            .ReturnsAsync(provider);

        // Act
        var result = await _service.GetProviderByIdAsync(ValidProviderId);

        // Assert
        Assert.Equal(createdAt.DateTime, result.CreatedAt.DateTime);
        Assert.Equal(updatedAt.DateTime, result.UpdatedAt.Value.DateTime);
    }

    [Fact]
    public async Task GetProviderByIdAsync_WithValidProviderId_ReturnsAllProperties()
    {
        // Arrange
        var provider = new Provider
        {
            Id = ValidProviderId,
            Email = ValidEmail,
            Username = ValidUsername,
            FullName = ValidFullName,
            Description = ValidDescription,
            PhoneNumber = ValidPhoneNumber,
            PhotoUrl = ValidPhotoUrl,
            AppointmentDurationMinutes = ValidAppointmentDuration,
            Status = ProviderStatus.Active,
            CreatedAt = DateTime.UtcNow,
            UpdatedAt = DateTime.UtcNow
        };

        _mockProviderRepository.Setup(r => r.GetByIdAsync(ValidProviderId))
            .ReturnsAsync(provider);

        // Act
        var result = await _service.GetProviderByIdAsync(ValidProviderId);

        // Assert
        Assert.NotNull(result);
        Assert.Equal(provider.Status, result.Status);
    }

    #endregion

    #region GetProviderByIdAsync - Not Found

    [Fact]
    public async Task GetProviderByIdAsync_WithNonExistentProviderId_ReturnsNull()
    {
        // Arrange
        _mockProviderRepository.Setup(r => r.GetByIdAsync(InvalidProviderId))
            .ReturnsAsync((Provider?)null);

        // Act
        var result = await _service.GetProviderByIdAsync(InvalidProviderId);

        // Assert
        Assert.Null(result);
    }

    [Fact]
    public async Task GetProviderByIdAsync_WithNegativeProviderId_ReturnsNull()
    {
        // Arrange
        _mockProviderRepository.Setup(r => r.GetByIdAsync(-1))
            .ReturnsAsync((Provider?)null);

        // Act
        var result = await _service.GetProviderByIdAsync(-1);

        // Assert
        Assert.Null(result);
    }

    [Fact]
    public async Task GetProviderByIdAsync_WithZeroProviderId_ReturnsNull()
    {
        // Arrange
        _mockProviderRepository.Setup(r => r.GetByIdAsync(0))
            .ReturnsAsync((Provider?)null);

        // Act
        var result = await _service.GetProviderByIdAsync(0);

        // Assert
        Assert.Null(result);
    }

    #endregion

    #region UpdateProviderAsync - Happy Path

    [Fact]
    public async Task UpdateProviderAsync_WithValidData_UpdatesProviderSuccessfully()
    {
        // Arrange
        var existingProvider = new Provider
        {
            Id = ValidProviderId,
            Email = ValidEmail,
            Username = ValidUsername,
            FullName = "Old Name",
            Description = "Old Description",
            PhoneNumber = "+34 111 111 111",
            AppointmentDurationMinutes = 30,
            UpdatedAt = DateTime.UtcNow.AddHours(-1)
        };

        var updateDto = new UpdateProviderDto(
            FullName: ValidFullName,
            Description: ValidDescription,
            PhoneNumber: ValidPhoneNumber,
            AppointmentDurationMinutes: 45
        );

        _mockProviderRepository.Setup(r => r.GetByIdAsync(ValidProviderId))
            .ReturnsAsync(existingProvider);

        // Act
        var result = await _service.UpdateProviderAsync(ValidProviderId, updateDto);

        // Assert
        Assert.NotNull(result);
        Assert.Equal(ValidProviderId, result.Id);
        Assert.Equal(ValidFullName, result.FullName);
        Assert.Equal(ValidDescription, result.Description);
        Assert.Equal(ValidPhoneNumber, result.PhoneNumber);
        Assert.Equal(45, result.AppointmentDurationMinutes);
    }

    [Fact]
    public async Task UpdateProviderAsync_WithValidData_UpdatesTimestamp()
    {
        // Arrange
        var beforeUpdate = DateTime.UtcNow;
        var existingProvider = new Provider
        {
            Id = ValidProviderId,
            Email = ValidEmail,
            Username = ValidUsername,
            FullName = "Old Name",
            UpdatedAt = DateTime.UtcNow.AddHours(-2)
        };

        var updateDto = new UpdateProviderDto(
            FullName: ValidFullName,
            Description: null,
            PhoneNumber: null,
            AppointmentDurationMinutes: null
        );

        _mockProviderRepository.Setup(r => r.GetByIdAsync(ValidProviderId))
            .ReturnsAsync(existingProvider);

        // Act
        var result = await _service.UpdateProviderAsync(ValidProviderId, updateDto);
        var afterUpdate = DateTime.UtcNow;

        // Assert
        Assert.NotNull(result);
        Assert.True(result.UpdatedAt >= beforeUpdate && result.UpdatedAt <= afterUpdate,
            "UpdatedAt debe ser actualizado con hora actual (UTC)");
    }

    [Fact]
    public async Task UpdateProviderAsync_WithPartialUpdate_PreservesUnmodifiedFields()
    {
        // Arrange
        var existingProvider = new Provider
        {
            Id = ValidProviderId,
            Email = ValidEmail,
            Username = ValidUsername,
            FullName = ValidFullName,
            Description = "Original Description",
            PhoneNumber = ValidPhoneNumber,
            AppointmentDurationMinutes = 30
        };

        var updateDto = new UpdateProviderDto(
            FullName: "New Full Name",
            Description: null, // No cambio
            PhoneNumber: null, // No cambio
            AppointmentDurationMinutes: null // No cambio
        );

        _mockProviderRepository.Setup(r => r.GetByIdAsync(ValidProviderId))
            .ReturnsAsync(existingProvider);

        // Act
        var result = await _service.UpdateProviderAsync(ValidProviderId, updateDto);

        // Assert
        Assert.Equal("New Full Name", result.FullName);
        Assert.Equal("Original Description", result.Description);
        Assert.Equal(ValidPhoneNumber, result.PhoneNumber);
        Assert.Equal(30, result.AppointmentDurationMinutes);
    }

    [Fact]
    public async Task UpdateProviderAsync_WithValidData_CallsRepositoryUpdate()
    {
        // Arrange
        var existingProvider = new Provider
        {
            Id = ValidProviderId,
            Email = ValidEmail,
            Username = ValidUsername,
            FullName = "Old Name"
        };

        var updateDto = new UpdateProviderDto(
            FullName: ValidFullName,
            Description: null,
            PhoneNumber: null,
            AppointmentDurationMinutes: null
        );

        _mockProviderRepository.Setup(r => r.GetByIdAsync(ValidProviderId))
            .ReturnsAsync(existingProvider);

        // Act
        await _service.UpdateProviderAsync(ValidProviderId, updateDto);

        // Assert
        _mockProviderRepository.Verify(
            r => r.UpdateAsync(It.IsAny<Provider>()),
            Times.Once,
            "Debe actualizar el provider en el repositorio"
        );
    }

    #endregion

    #region UpdateProviderAsync - Not Found

    [Fact]
    public async Task UpdateProviderAsync_WithNonExistentProviderId_ReturnsNull()
    {
        // Arrange
        var updateDto = new UpdateProviderDto(
            FullName: ValidFullName,
            Description: null,
            PhoneNumber: null,
            AppointmentDurationMinutes: null
        );

        _mockProviderRepository.Setup(r => r.GetByIdAsync(InvalidProviderId))
            .ReturnsAsync((Provider?)null);

        // Act
        var result = await _service.UpdateProviderAsync(InvalidProviderId, updateDto);

        // Assert
        Assert.Null(result);
    }

    [Fact]
    public async Task UpdateProviderAsync_WithNonExistentProviderId_DoesNotCallRepositoryUpdate()
    {
        // Arrange
        var updateDto = new UpdateProviderDto(
            FullName: ValidFullName,
            Description: null,
            PhoneNumber: null,
            AppointmentDurationMinutes: null
        );

        _mockProviderRepository.Setup(r => r.GetByIdAsync(InvalidProviderId))
            .ReturnsAsync((Provider?)null);

        // Act
        await _service.UpdateProviderAsync(InvalidProviderId, updateDto);

        // Assert
        _mockProviderRepository.Verify(
            r => r.UpdateAsync(It.IsAny<Provider>()),
            Times.Never,
            "No debe actualizar si provider no existe"
        );
    }

    #endregion

    #region UpdateProviderAsync - Validations

    [Theory]
    [InlineData(null)]
    [InlineData("")]
    [InlineData("   ")]
    public async Task UpdateProviderAsync_WithInvalidFullName_ThrowsArgumentException(string invalidName)
    {
        // Arrange
        var updateDto = new UpdateProviderDto(
            FullName: invalidName,
            Description: null,
            PhoneNumber: null,
            AppointmentDurationMinutes: null
        );

        // Act & Assert
        var exception = await Assert.ThrowsAsync<ArgumentException>(
            () => _service.UpdateProviderAsync(ValidProviderId, updateDto)
        );
        Assert.Contains("FullName no puede estar vacío", exception.Message);
    }

    [Theory]
    [InlineData("AB")] // Menos de 3 caracteres
    [InlineData("1")] // Menos de 3 caracteres
    public async Task UpdateProviderAsync_WithShortFullName_ThrowsArgumentException(string shortName)
    {
        // Arrange
        var updateDto = new UpdateProviderDto(
            FullName: shortName,
            Description: null,
            PhoneNumber: null,
            AppointmentDurationMinutes: null
        );

        // Act & Assert
        var exception = await Assert.ThrowsAsync<ArgumentException>(
            () => _service.UpdateProviderAsync(ValidProviderId, updateDto)
        );
        Assert.Contains("FullName debe tener al menos 3 caracteres", exception.Message);
    }

    [Fact]
    public async Task UpdateProviderAsync_WithTooLongFullName_ThrowsArgumentException()
    {
        // Arrange
        var tooLongName = new string('A', 101); // Más de 100 caracteres
        var updateDto = new UpdateProviderDto(
            FullName: tooLongName,
            Description: null,
            PhoneNumber: null,
            AppointmentDurationMinutes: null
        );

        // Act & Assert
        var exception = await Assert.ThrowsAsync<ArgumentException>(
            () => _service.UpdateProviderAsync(ValidProviderId, updateDto)
        );
        Assert.Contains("FullName no puede exceder 100 caracteres", exception.Message);
    }

    [Fact]
    public async Task UpdateProviderAsync_WithTooLongDescription_ThrowsArgumentException()
    {
        // Arrange
        var tooLongDescription = new string('A', 501); // Más de 500 caracteres
        var updateDto = new UpdateProviderDto(
            FullName: ValidFullName,
            Description: tooLongDescription,
            PhoneNumber: null,
            AppointmentDurationMinutes: null
        );

        // Act & Assert
        var exception = await Assert.ThrowsAsync<ArgumentException>(
            () => _service.UpdateProviderAsync(ValidProviderId, updateDto)
        );
        Assert.Contains("Description no puede exceder 500 caracteres", exception.Message);
    }

    [Theory]
    [InlineData(0)] // 0 inválido
    [InlineData(-30)] // Negativo inválido
    [InlineData(5)] // Menor a 15
    [InlineData(125)] // Mayor a 120
    public async Task UpdateProviderAsync_WithInvalidAppointmentDuration_ThrowsArgumentException(int invalidDuration)
    {
        // Arrange
        var updateDto = new UpdateProviderDto(
            FullName: ValidFullName,
            Description: null,
            PhoneNumber: null,
            AppointmentDurationMinutes: invalidDuration
        );

        // Act & Assert
        var exception = await Assert.ThrowsAsync<ArgumentException>(
            () => _service.UpdateProviderAsync(ValidProviderId, updateDto)
        );
        Assert.Contains("AppointmentDurationMinutes debe estar entre 15 y 120", exception.Message);
    }

    #endregion

    #region UploadPhotoAsync - Happy Path

    [Fact]
    public async Task UploadPhotoAsync_WithValidPhoto_SavesPhotoUrl()
    {
        // Arrange
        var photoContent = new byte[1024 * 100]; // 100KB
        var photoFileName = "photo.jpg";

        var existingProvider = new Provider
        {
            Id = ValidProviderId,
            Email = ValidEmail,
            Username = ValidUsername,
            PhotoUrl = null
        };

        _mockProviderRepository.Setup(r => r.GetByIdAsync(ValidProviderId))
            .ReturnsAsync(existingProvider);

        // Act
        var result = await _service.UploadPhotoAsync(ValidProviderId, photoContent, photoFileName);

        // Assert
        Assert.NotNull(result);
        Assert.NotEmpty(result);
        Assert.Contains(ValidProviderId.ToString(), result);
    }

    [Fact]
    public async Task UploadPhotoAsync_WithValidPhoto_UpdatesProviderPhotoUrl()
    {
        // Arrange
        var photoContent = new byte[1024 * 100]; // 100KB
        var photoFileName = "photo.jpg";

        var existingProvider = new Provider
        {
            Id = ValidProviderId,
            Email = ValidEmail,
            Username = ValidUsername,
            PhotoUrl = null
        };

        _mockProviderRepository.Setup(r => r.GetByIdAsync(ValidProviderId))
            .ReturnsAsync(existingProvider);

        // Act
        var photoUrl = await _service.UploadPhotoAsync(ValidProviderId, photoContent, photoFileName);

        // Assert
        _mockProviderRepository.Verify(
            r => r.UpdateAsync(It.IsAny<Provider>()),
            Times.Once,
            "Debe guardar el cambio de photoUrl"
        );
        Assert.NotNull(photoUrl);
        Assert.Equal(photoUrl, existingProvider.PhotoUrl);
    }

    [Fact]
    public async Task UploadPhotoAsync_ReplaceExistingPhoto_UpdatesPhotoUrl()
    {
        // Arrange
        var oldPhotoUrl = "https://example.com/old-photo.jpg";
        var newPhotoContent = new byte[1024 * 50]; // 50KB
        var newPhotoFileName = "new-photo.png";

        var existingProvider = new Provider
        {
            Id = ValidProviderId,
            Email = ValidEmail,
            Username = ValidUsername,
            PhotoUrl = oldPhotoUrl
        };

        _mockProviderRepository.Setup(r => r.GetByIdAsync(ValidProviderId))
            .ReturnsAsync(existingProvider);

        // Act
        var newPhotoUrl = await _service.UploadPhotoAsync(ValidProviderId, newPhotoContent, newPhotoFileName);

        // Assert
        Assert.NotEqual(oldPhotoUrl, newPhotoUrl);
        Assert.Equal(newPhotoUrl, existingProvider.PhotoUrl);
    }

    #endregion

    #region UploadPhotoAsync - Validations

    [Fact]
    public async Task UploadPhotoAsync_WithFileSizeExceedingLimit_ThrowsArgumentException()
    {
        // Arrange
        var oversizedPhoto = new byte[MaxPhotoSizeBytes + 1]; // 5MB + 1 byte
        var photoFileName = "oversized.jpg";

        // Act & Assert
        var exception = await Assert.ThrowsAsync<ArgumentException>(
            () => _service.UploadPhotoAsync(ValidProviderId, oversizedPhoto, photoFileName)
        );
        Assert.Contains("El archivo no puede exceder 5 MB", exception.Message);
    }

    [Theory]
    [InlineData("photo.exe")]
    [InlineData("photo.bat")]
    [InlineData("photo.zip")]
    [InlineData("photo.pdf")]
    [InlineData("photo.txt")]
    public async Task UploadPhotoAsync_WithInvalidFileExtension_ThrowsArgumentException(string fileName)
    {
        // Arrange
        var photoContent = new byte[1024 * 100]; // 100KB
        
        // Act & Assert
        var exception = await Assert.ThrowsAsync<ArgumentException>(
            () => _service.UploadPhotoAsync(ValidProviderId, photoContent, fileName)
        );
        Assert.Contains("extensión no permitida", exception.Message);
    }

    [Theory]
    [InlineData("photo.jpg")] // Válido
    [InlineData("photo.jpeg")] // Válido
    [InlineData("photo.png")] // Válido
    [InlineData("photo.gif")] // Válido
    [InlineData("photo.webp")] // Válido
    public async Task UploadPhotoAsync_WithValidFileExtensions_Succeeds(string fileName)
    {
        // Arrange
        var photoContent = new byte[1024 * 100]; // 100KB

        var existingProvider = new Provider
        {
            Id = ValidProviderId,
            Email = ValidEmail,
            Username = ValidUsername,
            PhotoUrl = null
        };

        _mockProviderRepository.Setup(r => r.GetByIdAsync(ValidProviderId))
            .ReturnsAsync(existingProvider);

        // Act
        var result = await _service.UploadPhotoAsync(ValidProviderId, photoContent, fileName);

        // Assert
        Assert.NotNull(result);
        Assert.NotEmpty(result);
    }

    [Fact]
    public async Task UploadPhotoAsync_WithEmptyFileContent_ThrowsArgumentException()
    {
        // Arrange
        var emptyPhoto = new byte[0];
        var photoFileName = "empty.jpg";

        // Act & Assert
        var exception = await Assert.ThrowsAsync<ArgumentException>(
            () => _service.UploadPhotoAsync(ValidProviderId, emptyPhoto, photoFileName)
        );
        Assert.Contains("El archivo está vacío", exception.Message);
    }

    [Theory]
    [InlineData(null)]
    [InlineData("")]
    [InlineData("   ")]
    public async Task UploadPhotoAsync_WithInvalidFileName_ThrowsArgumentException(string? invalidFileName)
    {
        // Arrange
        var photoContent = new byte[1024 * 100]; // 100KB

        // Act & Assert
        var exception = await Assert.ThrowsAsync<ArgumentException>(
            () => _service.UploadPhotoAsync(ValidProviderId, photoContent, invalidFileName)
        );
        Assert.Contains("nombre de archivo no puede estar vacío", exception.Message);
    }

    #endregion

    #region UploadPhotoAsync - Not Found

    [Fact]
    public async Task UploadPhotoAsync_WithNonExistentProviderId_ThrowsInvalidOperationException()
    {
        // Arrange
        var photoContent = new byte[1024 * 100]; // 100KB
        var photoFileName = "photo.jpg";

        _mockProviderRepository.Setup(r => r.GetByIdAsync(InvalidProviderId))
            .ReturnsAsync((Provider?)null);

        // Act & Assert
        var exception = await Assert.ThrowsAsync<InvalidOperationException>(
            () => _service.UploadPhotoAsync(InvalidProviderId, photoContent, photoFileName)
        );
        Assert.Contains("Provider no encontrado", exception.Message);
    }

    [Fact]
    public async Task UploadPhotoAsync_WithNonExistentProviderId_DoesNotCallRepositoryUpdate()
    {
        // Arrange
        var photoContent = new byte[1024 * 100]; // 100KB
        var photoFileName = "photo.jpg";

        _mockProviderRepository.Setup(r => r.GetByIdAsync(InvalidProviderId))
            .ReturnsAsync((Provider?)null);

        // Act
        try
        {
            await _service.UploadPhotoAsync(InvalidProviderId, photoContent, photoFileName);
        }
        catch { /* Expected exception */ }

        // Assert
        _mockProviderRepository.Verify(
            r => r.UpdateAsync(It.IsAny<Provider>()),
            Times.Never,
            "No debe actualizar si provider no existe"
        );
    }

    #endregion

    #region Edge Cases

    [Fact]
    public async Task GetProviderByIdAsync_WithSuspendedProvider_ReturnsProvider()
    {
        // Arrange - Debería retornar provider incluso si está suspendido (la validación es del controller)
        var suspendedProvider = new Provider
        {
            Id = ValidProviderId,
            Email = ValidEmail,
            Username = ValidUsername,
            FullName = ValidFullName,
            Status = ProviderStatus.Suspended
        };

        _mockProviderRepository.Setup(r => r.GetByIdAsync(ValidProviderId))
            .ReturnsAsync(suspendedProvider);

        // Act
        var result = await _service.GetProviderByIdAsync(ValidProviderId);

        // Assert
        Assert.NotNull(result);
        Assert.Equal(ProviderStatus.Suspended, result.Status);
    }

    [Fact]
    public async Task UpdateProviderAsync_WithAllFieldsNull_DoesNotModifyProvider()
    {
        // Arrange - Actualización con todos los campos null
        var existingProvider = new Provider
        {
            Id = ValidProviderId,
            Email = ValidEmail,
            Username = ValidUsername,
            FullName = ValidFullName,
            Description = ValidDescription,
            PhoneNumber = ValidPhoneNumber,
            AppointmentDurationMinutes = 30
        };

        var originalFullName = existingProvider.FullName;
        var originalDescription = existingProvider.Description;

        var updateDto = new UpdateProviderDto(
            FullName: null,
            Description: null,
            PhoneNumber: null,
            AppointmentDurationMinutes: null
        );

        _mockProviderRepository.Setup(r => r.GetByIdAsync(ValidProviderId))
            .ReturnsAsync(existingProvider);

        // Act
        var result = await _service.UpdateProviderAsync(ValidProviderId, updateDto);

        // Assert
        Assert.Equal(originalFullName, result.FullName);
        Assert.Equal(originalDescription, result.Description);
    }

    #endregion
}
